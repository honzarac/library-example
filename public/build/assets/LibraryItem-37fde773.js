import{j as V,p as N,c as o,b as m,u as e,w as _,F as y,o as s,X as M,a as t,n as g,d as h,i as w,t as d,k as f,v,q as U,h as x,s as j}from"./app-294e1cda.js";import{L as E}from"./Layout-0595caab.js";const L=["onSubmit"],S={key:1,class:"rounded bg-blue-500 text-white p-2.5 hover:bg-blue-600 float-right mr-2 cursor-pointer",type:"submit"},$={class:"font-bold text-2xl"},B={class:"flex mt-4"},C=t("div",{class:"w-1/4 font-bold text-right pr-4"},"Name",-1),D={key:0,class:"flex-grow-0 basis-3/4"},O={key:1,class:"flex-grow-0 basis-3/4"},T={class:"flex mt-4"},z=t("div",{class:"w-1/4 font-bold text-right pr-4"},"Typ",-1),F={class:"flex mt-4"},q=t("div",{class:"w-1/4 font-bold text-right pr-4"},"Autor",-1),A={key:0},P=["value"],X={key:1},G={href:""},H={class:"flex mt-4"},J=t("div",{class:"w-1/4 font-bold text-right pr-4"},"Popis",-1),K={key:0,class:"flex-grow-0 basis-3/4"},Q={key:1,class:"flex-grow-0 basis-3/4"},R={class:"flex mt-4"},W={class:"w-1/4 font-bold text-right pr-4"},Y={key:0,class:"flex-grow-0 basis-3/4"},Z=["onUpdate:modelValue"],ee={key:1,class:"flex-grow-0 basis-3/4"},se={__name:"LibraryItem",props:{libraryItem:Object,authors:Object},setup(r){const b=r;let n=V(!1),a=N({name:b.libraryItem.name,description:b.libraryItem.description,author_id:b.libraryItem.author.id,...Object.keys(b.libraryItem.borrowable.custom_data_labels).reduce((u,l)=>(u["borrowable."+l]=b.libraryItem.borrowable[l],u),{})});a.transform(u=>({...u,author_id:Number.parseInt(u.author_id)}));function p(){n.value=!0}function I(){n.value=!1,a.post(`/library-item/${b.libraryItem.id}`)}return(u,l)=>(s(),o(y,null,[m(e(M),{title:"Dashboard"}),m(E,null,{default:_(()=>[t("form",{onSubmit:j(I,["prevent"])},[m(e(g),{href:"/",class:"rounded bg-gray-100 p-2.5 hover:bg-gray-300 float-right"},{default:_(()=>[h("zpět")]),_:1}),e(n)?w("",!0):(s(),o("div",{key:0,class:"rounded bg-blue-500 text-white p-2.5 hover:bg-blue-600 float-right mr-2 cursor-pointer",onClick:p},"upravit")),e(n)?(s(),o("button",S,"uložit")):w("",!0),m(e(g),{href:`/library-item/${r.libraryItem.id}`,method:"delete",class:"rounded bg-red-500 text-white p-2.5 hover:bg-red-600 float-right mr-2",as:"button"},{default:_(()=>[h("smazat")]),_:1},8,["href"]),t("h3",$,d(r.libraryItem.name),1),t("div",B,[C,e(n)?(s(),o("div",D,[f(t("input",{class:"w-full border border-gray-500 p-2","onUpdate:modelValue":l[0]||(l[0]=i=>e(a).name=i)},null,512),[[v,e(a).name]])])):(s(),o("div",O,d(r.libraryItem.name),1))]),t("div",T,[z,t("div",null,d(r.libraryItem.type_label),1)]),t("div",F,[q,e(n)?(s(),o("div",A,[f(t("select",{"onUpdate:modelValue":l[1]||(l[1]=i=>e(a).author_id=i)},[(s(!0),o(y,null,x(r.authors,(i,c)=>(s(),o("option",{value:c},d(i),9,P))),256))],512),[[U,e(a).author_id]])])):(s(),o("div",X,[h(d(r.libraryItem.author.full_name)+" (",1),t("a",G,d(r.libraryItem.author.email),1),h(")")]))]),t("div",H,[J,e(n)?(s(),o("div",K,[f(t("textarea",{name:"type",class:"w-full","onUpdate:modelValue":l[2]||(l[2]=i=>e(a).description=i)},null,512),[[v,e(a).description]])])):(s(),o("div",Q,d(r.libraryItem.description),1))]),(s(!0),o(y,null,x(r.libraryItem.borrowable.custom_data_labels,(i,c)=>(s(),o("div",R,[t("div",W,d(i),1),e(n)?(s(),o("div",Y,[f(t("input",{class:"w-full border border-gray-500 p-2","onUpdate:modelValue":k=>e(a)[`borrowable.${c}`]=k},null,8,Z),[[v,e(a)[`borrowable.${c}`]]])])):(s(),o("div",ee,d(r.libraryItem.borrowable[c]),1))]))),256))],40,L)]),_:1})],64))}};export{se as default};
